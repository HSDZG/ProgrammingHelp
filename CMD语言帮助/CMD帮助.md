# CMD帮助文档
[toc]

## 概述
[开头](#cmd帮助文档)
**起源：**
CMD（Command Prompt）是Windows操作系统中的命令行解释器。它允许用户以文本模式下的命令行方式与操作系统进行交互。CMD最早来自于MS-DOS（Microsoft Disk Operating System），是一种早期的操作系统。

**发展历史：**
CMD的发展历史可以追溯到20世纪80年代，当时微软发行了MS-DOS操作系统。MS-DOS是一种基于命令行的操作系统，用户通常使用命令行来执行任务和操作系统。

随着Windows操作系统的推出，微软开始将图形界面引入操作系统，并提供了Windows图形化环境。然而，由于一些操作和任务需要更高级的系统控制和自动化，命令行解释器仍然是必不可少的。

CMD在1993年推出的Windows NT 3.1版本中首次出现，并成为Windows系列操作系统的标志性特性之一。从那时起，CMD一直随着Windows操作系统的不断发展而进化，逐渐增加了许多命令和功能。

然而，随着时间的推移，微软开始开发和引入新的命令行工具，如Windows PowerShell和Windows Subsystem for Linux（WSL），这些工具提供了更强大和灵活的命令行环境。

**特点：**
CMD具有以下几个特点：

1. **命令行交互：** CMD提供了一个纯文本的命令行界面，用户可以直接在命令提示符下输入命令与操作系统进行交互。

2. **批处理脚本：** CMD支持批处理脚本编程，用户可以编写一系列的命令以实现自动化任务，例如批处理文件（.bat）。

3. **内置命令：** CMD提供了一系列内置命令，用于执行各种系统管理、文件处理、网络配置和其他操作。例如，`dir`命令用于列出当前目录中的文件和文件夹。

4. **环境变量：** CMD支持环境变量，这些变量可以存储系统信息、用户定义的值和其他参数。通过使用环境变量，用户可以编写更灵活的脚本和命令。

5. **扩展性：** CMD可以通过外部命令和工具进行功能扩展。用户可以编写自己的命令行工具或使用其他开发者开发的工具来增强CMD的功能。

尽管CMD在过去几十年中一直是Windows操作系统的重要组成部分，但它逐渐被更强大且功能丰富的命令行工具所取代，比如Windows PowerShell和WSL。然而，CMD仍然被广泛使用于简单的系统管理和自动化任务中，并且对于熟悉命令行的用户而言，CMD依然是一个强大和便利的工具。

## 开发环境
[开头](#cmd帮助文档)
对于CMD（命令提示符）而言，它作为Windows操作系统的内置命令行解释器，并不需要特定的开发环境。CMD可以直接在Windows中的命令提示符下运行，并且可以通过文本编辑器编写和编辑批处理脚本文件（.bat）。

然而，为了提高开发效率和体验，可以使用一些文本编辑器或增强工具来提供更多的功能和便利性。以下是一些主流的CMD开发环境：

**1. Notepad++**
- **软件大小：** Notepad++是一款开源的文本编辑器，大小约为10MB。
- **特点：** Notepad++提供了丰富的功能，如语法高亮、代码折叠、自动完成和宏录制等。它支持多种编程语言，包括CMD和其他脚本语言。Notepad++还支持多文件编辑和分屏显示，方便同时查看和编辑多个文件。
- **适用场景：** Notepad++适用于编写和编辑CMD脚本、批处理文件以及其他脚本文件。由于它易于使用、轻量级且功能强大，适用于小型项目、系统管理脚本等场景。
- **扩展和插件：** Notepad++支持大量的插件，用于增强其功能。用户可以选择适合自己需求的插件，如语法检查和自动补全插件。

**2. Visual Studio Code**
- **软件大小：** Visual Studio Code（简称VS Code）是一款轻量级的开源代码编辑器，大小约为100MB。
- **特点：** VS Code是一个功能丰富的编辑器，支持多种编程语言和脚本语言，包括CMD。它提供了丰富的编辑功能，如语法高亮、智能代码补全、调试和版本控制集成等。
- **适用场景：** VS Code适用于从小型脚本到大型项目的开发。它的扩展生态系统非常庞大，用户可以根据需要选择各种插件来增强CMD脚本开发体验。
- **扩展和插件：** VS Code有大量的插件可供选择，用户可以安装适合自己的CMD开发插件，如CMD语法高亮、代码片段和调试支持插件。

虽然这些编辑器并非专门为CMD开发设计，但它们提供了强大的文本编辑功能和丰富的扩展生态系统，使CMD脚本的开发更加高效和便捷。开发者可以根据个人喜好和项目需求选择合适的开发环境。

## 基本语法
[开头](#cmd帮助文档)
CMD（Command Prompt）是Windows操作系统中的命令行工具，使用一种特定的语法来执行命令。下面是一些常用的 CMD 基本语法：

1. 命令名称：命令由命令名称表示，用于指定要执行的操作。例如，"dir"命令用于列出当前目录中的文件和子目录。

2. 选项和参数：一些命令可以带有选项和参数，用于更详细地控制命令的行为。选项通常以前导斜杠（/）或破折号（-）表示，参数是命令所需的输入。例如，"dir /w"命令在列出文件时使用宽格式。

3. 文件和目录路径：许多命令需要文件或目录的路径作为参数。文件路径可以使用绝对路径或相对路径表示，目录路径可以使用绝对路径或相对当前目录的路径表示。例如，"cd C:\Windows"命令用于将当前目录更改为C:\Windows。

4. 通配符：CMD 支持使用通配符来匹配文件或目录的名称。常用的通配符包括星号（*）和问号（?）。例如，"dir *.txt"命令用于列出当前目录中的所有以 .txt 结尾的文本文件。

5. 命令的结束：在 CMD 中，可以通过按下回车键来执行命令。命令执行后，会显示命令的结果或执行相应的操作。

6. 命令的链接和批处理脚本：在 CMD 中，可以串联多个命令，通过使用"&&"来分隔它们。例如，"dir && echo Hello"命令用于先执行 "dir" 命令，然后执行 "echo Hello" 命令。

7. 注释：在 CMD 中，使用 "REM" 命令可以添加注释，以提供对命令的额外说明，这些注释不会被 CMD 解释器执行。

这只是 CMD 基本语法的一些示例，还有许多其他命令和语法用法。你可以在 CMD 中输入 "help" 或命令后加上 "/?" 来获取命令的帮助信息，了解更多详细的语法和用法。

## 注释
[开头](#cmd帮助文档)
在 CMD（Command Prompt）中，可以使用 "REM" 命令来添加注释。注释是对命令或脚本的解释说明，对于代码的可读性和维护性非常重要。以下是关于 CMD 中注释的几个要点：

1. 使用 "REM" 开头：在 CMD 中，使用 "REM" 开头的行将被视为注释，CMD 解释器将忽略这些行并不执行其中的内容。

2. 单行注释：可以在一行的开头使用 "REM" 命令添加单行注释。例如："REM This is a comment"。

3. 多行注释：CMD 并没有直接支持多行注释的语法，但可以使用多个单行注释来模拟多行注释。例如：

   ```
   REM This is a multi-line
   REM comment in CMD
   REM It spans across multiple lines
   ```

4. 位置限定符：CMD 解释器对注释位置使用了一个限制。即，注释应该在命令之前或在命令的同一行。如果注释位于命令之后，它将被认为是该命令的一部分，而不是注释。

添加注释有助于提高脚本的可读性，使别人和自己更容易理解脚本的意图和功能。在编写 CMD 脚本过程中，可以使用注释来解释命令的用途、参数的含义、特定操作的原理等。这样，对于稍后的维护和修改，注释可以提供有价值的参考。

需要注意的是，注释只对人类可读，CMD 解释器会忽略它们。因此，在注释中不应包含任何对命令行执行的影响。

## 标识符
[开头](#cmd帮助文档)
CMD（Command Prompt）中的标识符是用来标识变量、参数、命令和其他元素的名称。下面是一些常用的 CMD 标识符：

1. 变量名：在 CMD 中，使用百分号（%）将变量名括起来来引用变量。例如，"%USERNAME%" 是一个特殊的变量，表示当前登录用户的用户名。

2. 参数：当你编写自定义的 CMD 脚本时，可以使用数字（%0、%1、%2...）来引用传递给脚本的参数。例如，"%1" 表示第一个参数，"%2" 表示第二个参数，以此类推。

3. 标准输入和标准输出：CMD 使用特殊的标识符来表示标准输入（stdin）、标准输出（stdout）和标准错误输出（stderr）。"<" 表示将输入从文件或命令重定向到标准输入，">" 表示将标准输出重定向到文件，"2>" 表示将标准错误输出重定向到文件。

4. 命令名称：CMD 中的命令通常以字母和数字组成的名称来表示。例如，"dir" 是一个用于列出目录内容的命令。

5. 批处理标签：在批处理脚本中，可以使用冒号（:）给一段代码起一个标签。这个标签可以用来在脚本中进行跳转和标记位置。

6. 特殊字符：CMD 中一些特殊字符也可以视为标识符的一部分，但需要使用适当的转义或引号来处理。例如，如果路径或文件名中包含空格或特殊字符，可以使用引号将其括起来。

这些标识符用于在 CMD 的脚本或命令行中引用不同的元素或执行特定的操作。理解这些标识符的含义和使用方法，对编写和执行 CMD 命令非常重要。

## 关键字
[开头](#cmd帮助文档)
CMD（Command Prompt）是Windows操作系统中的命令行工具，它包含了一些特定的关键字，用于控制和执行不同的命令和操作。以下是一些常用的 CMD 关键字：

1. CD：用于改变当前目录。例如，"cd C:\Windows" 将当前目录更改为 C:\Windows。

2. DIR：用于列出当前目录中的文件和子目录。例如，"dir" 将显示当前目录的内容。

3. ECHO：用于在命令行中显示消息或启用/禁用命令回显。例如，"echo Hello, World!" 将在命令行中显示 "Hello, World!"。

4. SET：用于设置环境变量或创建和设置用户定义的变量。例如，"set VAR=123" 将创建一个名为 VAR 的变量，并将其设置为 123。

5. REM：用于添加注释。"rem This is a comment" 表示在 CMD 脚本中添加了一行注释，这行注释不会被解释和执行。

6. PAUSE：用于暂停命令的执行，直到用户按下任意键。通常用于脚本的调试或提示用户操作。

7. IF：用于执行条件语句。例如，"if exist filename.txt echo File exists" 表示如果 filename.txt 存在，则显示 "File exists"。

8. GOTO：用于跳转到脚本中的标签。例如，"goto label" 将跳转到标签处执行代码。

9. FOR：用于循环执行命令。可以使用不同的选项和参数来指定循环的方式和要处理的对象。

这些关键字在 CMD 中扮演着重要的角色，用于控制和执行各种命令和操作。它们在编写和执行 CMD 脚本时非常有用，可以帮助实现条件执行、循环、变量设置等各种功能。

## 通配符
[开头](#cmd帮助文档)
通配符是在 CMD（Command Prompt）中用于匹配文件和目录名称的特殊字符。CMD 支持以下通配符：

1. 星号（*）：代表零个或多个字符。例如，"*.txt" 匹配以 ".txt" 结尾的所有文件。

2. 问号（?）：代表一个字符。例如，"file?.txt" 匹配文件名为 "file1.txt"、"file2.txt"、"fileA.txt" 等。

3. 方括号（[ ]）：用于指定一个字符范围。例如，"[abc]file.txt" 匹配 "afile.txt"、"bfile.txt" 或 "cfile.txt"。

4. 脱字符（^）：用于在方括号中的字符前转义。例如，"[^abc]file.txt" 匹配不包含 a、b 或 c 作为开头的文件。

通配符可用于各种 CMD 命令和操作中，例如在命令中列出文件、复制、移动或删除文件，或在脚本中进行文件操作等。通配符可以用于更精确地匹配文件和目录，提供更强大的文件操作能力。

需要注意的是，通配符在不同的操作系统和命令行工具中可能有所不同。因此，在使用通配符时，建议查阅相关文档或命令的帮助信息，以确保正确理解和使用通配符的语法和行为。

## 基本输入输出
[开头](#cmd帮助文档)
在 CMD（Command Prompt）中，可以使用不同的输入和输出操作来与用户交互、读取和写入文件等。下面是几种基本的输入和输出操作：

1. 标准输入（stdin）：CMD 中的标准输入通常通过键盘输入。命令可以等待用户输入，并根据输入执行相应的操作。

2. 标准输出（stdout）：CMD 中的标准输出通常显示在屏幕上。命令执行后，结果会被发送到标准输出，并显示给用户。

3. 标准错误输出（stderr）：CMD 中的标准错误输出通常显示在屏幕上，用于报告错误或警告信息。不同于标准输出，标准错误输出通常以红色字体显示。

4. 输出重定向：可以使用 ">" 符号将命令的标准输出重定向到文件，而不是屏幕上显示。例如："dir > output.txt" 将目录列表输出到名为 output.txt 的文件中。

5. 输入重定向：可以使用 "<" 符号将文件内容作为命令的输入，而不是通过键盘输入。例如："sort < input.txt" 将 input.txt 文件的内容作为 sort 命令的输入进行排序。

除了以上操作，还可以使用管道符号（"|"）将一个命令的输出作为另一个命令的输入。例如，"dir | findstr .txt" 将目录列表传递给 findstr 命令进行筛选，以找到包含 ".txt" 的文件。

这些基本的输入和输出操作允许用户在 CMD 中进行交互、处理文件内容和重定向输出。通过合理使用输入和输出操作，可以更有效地进行命令行操作和处理。

### choice
[开头](#cmd帮助文档)
在CMD（命令提示符）中，`choice`命令用于在用户需要选择一个或多个选项时等待用户输入。以下是`choice`命令的用法示例：

```shell
choice /C option1,option2,option3 [/N] [/T timeout] [/D default] [/M "prompt"]
```

- `/C option1,option2,option3`：指定用户可选择的选项，多个选项之间用逗号分隔。
- `/N`：禁用用户按下相应的键后显示选项字符。
- `/T timeout`：指定等待用户输入的时间（以秒为单位）。
- `/D default`：指定默认选项，当超过等待时间时将选择默认选项。
- `/M "prompt"`：指定要显示给用户的提示消息。

以下是一个示例，将提示用户选择“是”或“否”：

```shell
@echo off
choice /C YN /M "Do you want to continue?"
if errorlevel 2 (
    echo You chose No.
) else (
    echo You chose Yes.
)
```

在这个例子里，用户可以按下Y或N来作出选择。如果用户选择"是"，则显示"You chose Yes."，否则显示"You chose No."。

请注意，`choice`命令在一些较老的操作系统中可能不可用。在某些情况下，可以通过使用`set /P`命令结合错误级别变量（`%errorlevel%`）进行类似的用户输入控制。

### echo
[开头](#cmd帮助文档)
在 CMD（Command Prompt）中，`echo`命令用于在命令行窗口输出文本或变量的值。以下是一些`echo`命令的用法示例：

1. 输出文本：
   ```shell
   echo Hello, World!
   ```

2. 输出变量的值：
   ```shell
   set name=John
   echo Hello, %name%!
   ```

3. 输出空行：
   ```shell
   echo.
   ```

4. 打印特殊字符：
   ```shell
   echo Special characters: ^ < > & |
   ```

5. 禁用命令的回显（在脚本中常用）：
   ```shell
   @echo off
   ```

请注意，在某些情况下，特殊字符可能需要转义，如`<`、`>`和`&`符号。此外，还可以通过重定向操作 `>` 将输出重定向到文件中，如 `echo Text > output.txt`。
## 文件输入输出
[开头](#cmd帮助文档)
在 CMD（Command Prompt）中，可以使用文件进行输入和输出操作。下面是一些常见的文件输入和输出操作的示例：

1. 输入重定向：可以使用 "<" 符号将文件内容作为命令的输入，而不是通过键盘输入。例如，"sort < input.txt" 将 input.txt 文件的内容作为 sort 命令的输入进行排序。

2. 输出重定向：可以使用 ">" 符号将命令的标准输出重定向到文件，而不是屏幕上显示。例如，"dir > output.txt" 将目录列表输出到名为 output.txt 的文件中。

3. 追加输出：使用 ">>" 符号可以将命令的输出追加到文件的末尾，而不是覆盖原有内容。例如，"echo New line >> existing.txt" 将文本 "New line" 追加到 existing.txt 文件的末尾。

4. 通过管道（|）与文件进行数据流处理：可以将一个命令的输出作为另一个命令的输入，从而对文件进行数据流处理。例如，"type input.txt | findstr "keyword"" 将 input.txt 文件的内容传递给 findstr 命令来搜索包含指定关键字的行。

这些文件输入和输出操作提供了在 CMD 中处理文件内容和重定向输出的便利方法。通过合理使用文件输入和输出，可以更高效地处理和操作文件数据。

## 数据类型
[开头](#cmd帮助文档)
在 CMD（Command Prompt）中，存在以下几种常见的数据类型：

在 CMD（Command Prompt）中，可以使用以下类型的数据：

1. 字符串（String）：用于表示文本数据。字符串可以是由字母、数字和特殊字符组成的任意序列。

2. 数值（Number）：用于表示数字数据，可以是整数或浮点数。

3. 布尔值（Boolean）：只有两个值，True（真）和 False（假），用于逻辑运算和条件判断。

4. 文件路径（File Path）：用于指定文件或文件夹的位置，可以是绝对路径或相对路径。

5. 空值（Null）：表示无值或未定义。

6. 日期和时间：虽然 CMD 中没有专门的日期和时间数据类型，但可以使用字符串来表示和操作日期和时间数据。

需要注意的是，CMD 是一个命令行工具，对于数据类型的支持相对简单。数据类型的表现形式和操作能力相对有限，无法像编程语言那样具有丰富的数据类型和操作。如果需要更复杂的数据操作，可能需要使用脚本语言或其他开发工具。


## 变量
[开头](#cmd帮助文档)
在 CMD（Command Prompt）中，变量是一种用于存储和管理数据的标识符。变量可以存储各种类型的数据，如字符串、数值等。

以下是一些关于 CMD 变量的重要事项：

1. 变量的定义和赋值：
   - 使用 `set` 命令定义变量并赋值，例如：`set variable_name=value`。在赋值时，等号前后不能有空格。
   - 可以使用已有的变量来定义新的变量，例如：`set new_variable=%existing_variable%`。
   - 定义变量时可以使用延迟变量扩展，通过使用 `!` 来访问变量的值，例如：`setlocal enabledelayedexpansion` 和 `echo !variable!`。

2. 变量的使用：
   - 使用 `%variable_name%` 的形式来引用变量的值。例如：`echo %variable_name%`。
   - 可以对变量进行字符串处理，如拼接、替换、截取等操作。例如：`set result=%variable1%%variable2%` 或 `set new_string=%existing_string:old=new%`。
   - 可以在命令中使用变量，如 `echo %variable_name%` 或 `copy %file_name% %destination_folder%`。

3. 特殊变量：
   - `%cd%`：当前目录的绝对路径。
   - `%date%`：当前日期。
   - `%time%`：当前时间。
   - `%random%`：随机数。
   - `%errorlevel%`：上一个命令的错误代码。

4. 变量的作用域：
   - 默认情况下，变量是全局的，即它们在脚本的任何位置都可见。
   - 使用 `setlocal` 命令可以创建一个新的局部环境，变量在此环境中定义的范围内生效。使用 `endlocal` 命令可以结束局部环境。

请注意，CMD 的变量管理相对简单，通常用于简单脚本或命令行操作。如果需要更复杂的变量操作和数据结构支持，可能需要使用脚本语言或其他编程工具。

## 常量
[开头](#cmd帮助文档)
在 CMD（Command Prompt）中，并没有专门的常量声明或定义方式。然而，可以使用约定俗成的方式来定义和使用常量。

在 CMD 中，常量通常是使用变量来表示的，但它们的命名方式和使用约定不同于普通变量。以下是一些常见的约定：

1. 使用大写字母命名：常量的名称通常使用大写字母，以便与普通变量区分开。

2. 使用固定值赋值：常量的值是固定的，一旦定义就不能更改。通常在脚本的开头或需要使用常量的位置给变量赋值。

以下是一个示例，展示如何使用约定来模拟常量的行为：

```
@echo off
REM 定义常量
set "PI=3.14159"
set "MAX_VALUE=100"

REM 使用常量
echo The value of PI is %PI%
echo The maximum value is %MAX_VALUE%

REM 尝试更改常量的值（实际上是创建一个新的变量）
set "PI=3.14"
echo The updated value of PI is %PI%

pause
```

需要注意的是，由于 CMD 不支持直接定义常量，因此在使用变量时仍然可以更改其值。所以，使用约定来将变量视为常量始终需要自我约束以确保不更改其值。

## 转义字符
[开头](#cmd帮助文档)
在 CMD（命令提示符）中，有几个常用的转义字符可以用于处理特殊字符，以便正确解释它们。以下是一些常见的转义字符和它们的用法：

1. `^`（插入符号）：在特定字符之前使用 `^` 可以取消该字符的特殊含义。例如，使用 `^>` 可以转义输出重定向符号 `>`，使它被视为普通字符，而不是表示重定向操作。

2. `"`（引号）：在 CMD 中，引号 `" "` 通常用于在包含空格和特殊字符的字符串中对其进行保护。如果需要在字符串中使用引号本身，可以使用双引号进行转义，例如 `"Hello ""World"""`。

3. `%`（百分号）：`%` 用于表示环境变量。如果要在字符串中包含 `%` 字符本身，可以使用 `%%` 进行转义，例如 `echo 50%%` 将输出 `50%`。

需要注意的是，在不同的上下文中，转义字符的使用方式可能略有不同。某些命令或程序可能会使用自定义的转义字符，因此应该针对具体情况查阅相关的文档或参考资料。

## 运算符
[开头](#cmd帮助文档)
在 CMD（命令提示符）中，有几个常用的运算符可以用于执行计算、比较和逻辑操作。以下是一些常见的 CMD 运算符及其用法：

1. 算术运算符：
   - `+`：加法运算，例如 `set /a result=5+3`。
   - `-`：减法运算，例如 `set /a result=8-2`。
   - `*`：乘法运算，例如 `set /a result=4*3`。
   - `/`：除法运算，例如 `set /a result=10/2`。
   - `%`：取模（取余）运算，例如 `set /a result=10%3`。

2. 关系运算符：
   - `==`：等于，例如 `if %var1% == %var2% echo Equal`。
   - `!=`：不等于，例如 `if %var1% != %var2% echo Not equal`。
   - `>`：大于，例如 `if %var1% > %var2% echo Greater than`。
   - `<`：小于，例如 `if %var1% < %var2% echo Less than`。
   - `>=`：大于等于，例如 `if %var1% >= %var2% echo Greater than or equal`。
   - `<=`：小于等于，例如 `if %var1% <= %var2% echo Less than or equal`。

3. 逻辑运算符：
   - `&`：逻辑与，例如 `command1 & command2`。
   - `|`：逻辑或，例如 `command1 | command2`。
   - `&&`：当前一命令成功执行后执行下一命令，例如 `command1 && command2`。
   - `||`：当前一命令执行失败后执行下一命令，例如 `command1 || command2`。

需要注意的是，CMD 运算符在处理数值时有一定限制，例如只能处理整数。若要进行更复杂的数学计算，可能需要借助其他编程工具或脚本语言。

## 运算符优先级
[开头](#cmd帮助文档)
在CMD（命令提示符）中，运算符根据其优先级进行计算。以下是CMD中常用的运算符优先级列表，并附有描述。

| 优先级 | 运算符   | 描述                             |
| ------ | -------- | -------------------------------- |
| 1      | ()       | 括号运算符，改变表达式的计算顺序 |
| 2      | * / %    | 乘法、除法和取模运算符           |
| 3      | + -      | 加法和减法运算符                 |
| 4      | << >>    | 位移运算符                       |
| 5      | &        | 位与运算符                       |
| 6      | ^        | 位异或运算符                     |
| 7      | \|       | 位或运算符                       |
| 8      | =        | 赋值运算符                       |
| 9      | == !=    | 相等性运算符                     |
| 10     | > < >= <= | 关系运算符                       |
| 11     | !        | 逻辑非运算符                     |
| 12     | &&       | 逻辑与运算符                     |
| 13     | \|\|     | 逻辑或运算符                     |

## 分支语句
[开头](#cmd帮助文档)
在 CMD（命令提示符）中，IF 语句用于根据条件的成立与否执行不同的命令。IF 语句有多种形式，下面是常见的几种用法：

1. IF 条件 执行的命令：
   这种形式根据条件的成立与否来执行指定的命令。
   ```
   IF exist 文件名 (
       执行的命令
   )
   ```
   示例：如果文件存在，则执行相应命令。

2. IF 条件 (
     执行的命令
   ) ELSE (
     执行的命令
   )：
   这种形式在条件成立时执行第一个括号中的命令，否则执行第二个括号中的命令。
   ```
   IF "%var1%" == "%var2%" (
       执行的命令1
   ) ELSE (
       执行的命令2
   )
   ```
   示例：如果 `%var1%` 等于 `%var2%`，则执行第一个命令；否则，执行第二个命令。

3. IF NOT 条件 执行的命令：
   这种形式在条件不成立时执行指定的命令。
   ```
   IF NOT exist 文件名 (
       执行的命令
   )
   ```
   示例：如果文件不存在，则执行相应命令。

请注意，条件可以是变量比较、字符串判断、文件存在等条件。可以使用不同的逻辑运算符（例如 `==`、`!=`、`>`、`<`、`>=`、`<=`）进行条件判断。在条件中可以使用变量、字符串和数字等。

这只是 IF 语句的一些基本用法，实际使用时可以根据需要进行更复杂的条件判断和命令执行。在 CMD 中可以使用 `IF /?` 命令获取更详细的语法和选项帮助。

## 循环语句
[开头](#cmd帮助文档)
在 CMD（命令提示符）中，FOR 语句用于循环执行命令块，并对一组元素按照特定规则进行迭代。CMD 的 FOR 语句有多种形式，下面是常见的几种用法：

1. FOR /F "options" %%parameter IN (set) DO (
     执行的命令
   )
   这种形式用于遍历指定的 set（可以是文件、命令输出等），对每个值执行括号中的命令块。
   示例：
   ```batch
   @echo off
   FOR /F "tokens=1,2" %%A IN (data.txt) DO (
       echo 参数1：%%A
       echo 参数2：%%B
   )
   ```
   在上述示例中，FOR 命令会从 data.txt 文件中逐行读取内容，并将每行的第一个和第二个单词赋值给 %%A 和 %%B 变量，然后在每次迭代时执行括号中的命令块。

2. FOR /L %%parameter IN (start,step,end) DO (
     执行的命令
   )
   这种形式用于按指定的步长从开始值迭代到结束值，对每个值执行括号中的命令块。
   示例：
   ```batch
   @echo off
   FOR /L %%N IN (1,1,5) DO (
       echo 迭代次数：%%N
   )
   ```
   在上述示例中，FOR 命令会从 1 开始，每次迭代增加 1，直到达到或超过 5 的值，在每个值上执行括号中的命令块。

3. FOR /R "root" %%parameter IN (set) DO (
     执行的命令
   )
   这种形式用于遍历指定目录及其子目录中的文件，并对每个文件执行括号中的命令块。
   示例：
   ```batch
   @echo off
   FOR /R "C:\folder" %%F IN (*.txt) DO (
       echo 文件名：%%F
   )
   ```
   在上述示例中，FOR 命令会遍历 "C:\folder" 目录及其子目录中的所有 txt 文件，并在每个文件上执行括号中的命令块。

以上是 FOR 语句的一些常见用法。在实际使用中，可以根据具体的需求选择适合的 FOR 语句形式来实现所需的功能。在 CMD 中可以使用 `FOR /?` 命令获取更详细的语法和选项帮助。

## goto语句
[开头](#cmd帮助文档)
在 CMD（命令提示符）中，GOTO 语句用于跳转到脚本中的指定标签位置，并继续执行后续的命令。GOTO 语句可以使批处理脚本在满足特定条件时跳转到所需的位置。下面是 GOTO 语句的用法示例：

```batch
@echo off

REM 这是一个简单的示例脚本
REM 如果条件满足，则跳转到指定标签位置执行相应的命令
REM 如果条件不满足，则跳过指定标签位置，继续执行后续的命令

REM 条件判断
IF "%OPTION%"=="1" (
    REM 跳转到指定标签位置
    GOTO Option1
) else if "%OPTION%"=="2" (
    REM 跳转到指定标签位置
    GOTO Option2
) else (
    REM 跳转到指定标签位置
    GOTO OptionDefault
)

REM 标签位置及相应的命令
:Option1
echo 选项 1
REM 继续执行后续的命令
GOTO End

:Option2
echo 选项 2
REM 继续执行后续的命令
GOTO End

:OptionDefault
echo 默认选项
REM 继续执行后续的命令
GOTO End

:End
echo 脚本结束
```

在上述示例中，根据变量 `%OPTION%` 的值，使用 IF 语句判断条件，并根据条件的结果使用 GOTO 语句跳转到对应的标签位置执行相应的命令。不满足条件的部分会执行默认的选项。无论哪个选项被执行，最终都会跳转到标签 "End" 处，完成整个脚本的执行。

请注意，在 GOTO 语句中，标签的名称需要以冒号（ : ) 开头，同时要确保标签名称是唯一的，并且在脚本中定义在被调用之前。

以上是 GOTO 语句的基本用法。请根据实际需求在批处理脚本中使用合适的条件判断和跳转。

## 子程序
[开头](#cmd帮助文档)
在CMD中，可以使用以下方式来创建和运行子程序：

1. 使用"CALL"命令调用批处理文件或其他可执行文件。例如，假设有一个名为"subprogram.bat"的批处理文件，可以使用以下命令来调用它：

   ```
   CALL subprogram.bat
   ```

   这将执行"subprogram.bat"中的命令，并在执行完成后返回到主程序。

2. 使用"START"命令启动一个新的CMD窗口，并在该窗口中运行指定的命令或程序。例如，可以使用以下命令启动一个新的CMD窗口并运行"subprogram.bat"：

   ```
   START "" subprogram.bat
   ```

   这将在一个独立的CMD窗口中执行"subprogram.bat"的内容。

3. 在批处理文件中使用"CALL"命令调用标签。可以在批处理文件中定义带有标签的代码块，并使用"CALL"命令从其他位置调用该代码块。例如，可以如下定义和调用一个带有标签的代码块：

   ```
   :mySubprogram
   echo This is a subprogram.
   echo Subprogram completed.
   goto :eof

   ...

   CALL :mySubprogram
   ```

   在这个示例中，":mySubprogram"是一个带有标签的代码块。通过使用"CALL"命令从其他位置调用":mySubprogram"，将执行该代码块中的命令。

这些是在CMD中创建和运行子程序的一些常见方式。可以根据具体需求选择适合的方式来组织和管理程序代码。

## 源文件及多文件编程
[开头](#cmd帮助文档)
在CMD中，批处理脚本的常见源文件扩展名是".bat"和".cmd"。这两个扩展名都表示可执行的批处理文件，可以在CMD中直接运行。选择使用哪个扩展名主要取决于个人偏好和脚本的目的。

当涉及到多文件编程时，可以在CMD中使用以下方式：

1. 脚本调用：一个批处理脚本可以调用另一个批处理脚本。可以在一个脚本中使用"CALL"命令来调用其他的批处理脚本。例如：

   ```
   CALL script1.bat
   CALL script2.bat
   ```

   这样就可以按顺序调用不同的脚本文件。

2. 外部程序调用：批处理脚本可以调用外部程序来执行特定的任务。可以使用程序的可执行文件名或完整路径来执行外部程序。例如：

   ```
   notepad.exe
   "C:\Program Files\Example\program.exe"
   ```

   这将执行"notepad.exe"和位于指定路径的"program.exe"。

3. 脚本组织：可以将不同的功能或任务分别编写到多个批处理脚本文件中，然后在一个主脚本中逐个调用这些子脚本。通过这种方式，可以更好地组织和管理脚本代码，使其更具可读性和可维护性。

这些技术可以帮助在CMD中进行多文件编程，方便地将不同的代码块和任务拆分到不同的脚本文件中，并通过调用来实现代码复用和逻辑控制。根据具体需求，可以选择适当的方式来组织和编写CMD脚本。

## 异常处理
[开头](#cmd帮助文档)
在CMD（命令提示符）中，异常处理的机制相对有限，因为CMD主要是用于执行操作系统命令和批处理脚本，而不是用于开发和执行独立的应用程序。

然而，在CMD中仍然可以通过一些简单的技巧和命令来实现基本的错误处理和异常处理。

1. ERRORLEVEL 变量：CMD中的ERRORLEVEL变量用于表示上一个命令的执行结果。通过检查ERRORLEVEL的值，可以进行基本的错误处理。通常，0表示成功，非零值表示失败。例如：

   ```
   dir
   if %ERRORLEVEL% NEQ 0 (
       echo Command failed.
       rem 其他错误处理逻辑
   )
   ```

   在这个例子中，如果dir命令失败（即ERRORLEVEL非零），则会输出错误信息并执行其他错误处理逻辑。

2. GOTO 语句：可以使用GOTO语句跳转到特定的标签位置，从而实现流程控制和错误处理。例如：

   ```
   dir
   if %ERRORLEVEL% NEQ 0 (
       echo Command failed.
       goto ErrorHandler
   )
   rem 运行成功的逻辑
   goto End

   :ErrorHandler
   rem 错误处理逻辑

   :End
   rem 结束处理
   ```

   在这个例子中，如果dir命令失败，则会跳转到ErrorHandler标签位置执行相应的错误处理逻辑。

请注意，这只是CMD中简单的错误处理机制，适用于一些简单的场景。如果需要更复杂的错误处理或异常处理机制，建议考虑使用其他编程语言，如Python、C++、Java等，它们提供了更丰富和灵活的错误处理和异常处理机制。

## 常用命令
[开头](#cmd帮助文档)
当然！以下是一些常用CMD（命令提示符）命令的详细解释和示例用法：

1. `cd`：切换当前目录。
   - 示例：`cd C:\Users` 将当前目录切换到C:\Users。

2. `dir`：列出当前目录中的文件和子目录。
   - 示例：`dir` 列出当前目录中的文件和子目录的详细信息。

3. `mkdir`：创建新的目录。
   - 示例：`mkdir NewFolder` 在当前目录中创建名为NewFolder的新目录。

4. `rmdir`：删除空目录。
   - 示例：`rmdir OldFolder` 删除当前目录下名为OldFolder的空目录。

5. `del`：删除文件。
   - 示例：`del myfile.txt` 删除当前目录中名为myfile.txt的文件。

6. `copy`：复制文件。
   - 示例：`copy file1.txt file2.txt` 将file1.txt复制到file2.txt。

7. `move`：移动文件或重命名文件。
   - 示例：`move file1.txt folder1` 将file1.txt移动到名为folder1的目录中。

8. `ren`：重命名文件。
   - 示例：`ren oldname.txt newname.txt` 将oldname.txt重命名为newname.txt。

9. `type`：显示文本文件的内容。
   - 示例：`type readme.txt` 显示名为readme.txt的文本文件的内容。

10. `echo`：打印文本或变量的内容。
    - 示例：`echo Hello, World!` 打印文本"Hello, World!"。

11. `set`：设置或显示环境变量。
    - 示例：`set PATH` 显示名为PATH的环境变量的值。

12. `cls`：清空命令提示符窗口。
    - 示例：`cls` 清空当前命令提示符窗口的内容。

13. `shutdown`：关闭计算机。
    - 示例：`shutdown /s /t 0` 立即关闭计算机。

14. `tasklist`：列出正在运行的进程。
    - 示例：`tasklist` 列出当前正在运行的所有进程的详细信息。

15. `taskkill`：终止进程。
    - 示例：`taskkill /IM notepad.exe` 终止名为notepad.exe的进程。

16. `ping`：测试与指定主机的连接。
    - 示例：`ping www.google.com` 测试与www.google.com的连接。

17. `ipconfig`：显示计算机的网络配置信息。
    - 示例：`ipconfig /all` 显示计算机的详细网络配置信息。

18. `netstat`：显示网络连接和统计信息。
    - 示例：`netstat -a` 显示所有网络连接的信息。

19. `systeminfo`：显示计算机的系统信息。
    - 示例：`systeminfo` 显示计算机的详细系统信息。

20. `help`：获取关于某个命令的帮助信息。
    - 示例：`help dir` 获取有关dir命令的帮助信息。

这些是一些常见的CMD命令及其示例用法。通过使用这些命令，您可以在命令提示符中进行文件处理、目录管理、网络配置和系统信息查询等常见任务。
